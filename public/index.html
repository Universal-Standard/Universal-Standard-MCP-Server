<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SPURS MCP Server</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <div class="logo-icon">üéØ</div>
          <span>SPURS MCP</span>
        </div>
      </div>
      
      <nav class="sidebar-nav">
        <div class="nav-section">
          <div class="nav-section-title">Main</div>
          <div class="nav-item active" data-page="home">
            <span class="nav-item-icon">üè†</span>
            <span>Home</span>
          </div>
          <div class="nav-item" data-page="dashboard">
            <span class="nav-item-icon">üìä</span>
            <span>Dashboard</span>
          </div>
        </div>
        
        <div class="nav-section">
          <div class="nav-section-title">Platform</div>
          <div class="nav-item" data-page="tools">
            <span class="nav-item-icon">üîß</span>
            <span>Tools</span>
            <span class="nav-item-badge" id="tools-count">9</span>
          </div>
          <div class="nav-item" data-page="resources">
            <span class="nav-item-icon">üì¶</span>
            <span>Resources</span>
          </div>
          <div class="nav-item" data-page="playground">
            <span class="nav-item-icon">üéÆ</span>
            <span>AI Playground</span>
          </div>
          <div class="nav-item" data-page="connections">
            <span class="nav-item-icon">üîó</span>
            <span>Connections</span>
          </div>
          <div class="nav-item" data-page="addons">
            <span class="nav-item-icon">üß©</span>
            <span>Add-ons</span>
          </div>
          <div class="nav-item" data-page="logs">
            <span class="nav-item-icon">üìã</span>
            <span>Activity Logs</span>
          </div>
        </div>
        
        <div class="nav-section">
          <div class="nav-section-title">Configuration</div>
          <div class="nav-item" data-page="settings">
            <span class="nav-item-icon">‚öôÔ∏è</span>
            <span>Settings</span>
          </div>
          <div class="nav-item" data-page="about">
            <span class="nav-item-icon">‚ÑπÔ∏è</span>
            <span>About</span>
          </div>
        </div>
      </nav>
      
      <div class="sidebar-footer">
        <div class="status-indicator">
          <span class="status-dot"></span>
          <span>Server Online</span>
        </div>
      </div>
    </aside>
    
    <main class="main-content">
      <header class="top-bar">
        <h2 class="page-title">Welcome</h2>
        <div class="top-bar-actions">
          <div class="search-box">
            <span>üîç</span>
            <input type="text" id="global-search" placeholder="Search tools, resources..." oninput="handleSearch(this.value)">
          </div>
          <button class="btn btn-primary" onclick="navigate('playground')">
            <span>ü§ñ</span>
            <span>Try AI</span>
          </button>
        </div>
      </header>
      
      <div class="content-area">
        <div id="page-home" class="page">
          <div class="hero">
            <div class="hero-content">
              <h1>SPURS MCP Server</h1>
              <p>Official Model Context Protocol server for the US Department of Special Projects and Unified Response Services. Multi-AI platform support with enterprise-grade security.</p>
              <div style="display: flex; gap: 12px;">
                <button class="btn btn-primary" style="background: white; color: var(--primary);" onclick="navigate('dashboard')">
                  View Dashboard
                </button>
                <button class="btn btn-secondary" style="border-color: white; color: white;" onclick="navigate('tools')">
                  Browse Tools
                </button>
              </div>
            </div>
          </div>
          
          <div class="feature-grid">
            <div class="feature-card">
              <div class="feature-icon">ü§ñ</div>
              <h3>Multi-AI Platform</h3>
              <p>Seamlessly integrate with OpenAI, Anthropic Claude, and Google Gemini. Switch between providers effortlessly and leverage the best AI for each task.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üîß</div>
              <h3>Extensible Tools</h3>
              <p>9+ built-in tools including AI chat, web search, code execution, and utilities. Easily extend with custom tools through the modular registry system.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üîê</div>
              <h3>Enterprise Security</h3>
              <p>API key authentication, rate limiting, scoped permissions, and CORS protection. Built for production deployment with security best practices.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">‚ö°</div>
              <h3>Real-time Streaming</h3>
              <p>WebSocket support for real-time AI responses. Stream completions as they generate for responsive, interactive experiences.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üìù</div>
              <h3>Prompt Templates</h3>
              <p>Pre-configured prompt templates for common tasks like summarization, code analysis, and translation. Customize and extend as needed.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üåê</div>
              <h3>MCP Protocol</h3>
              <p>Full implementation of the Model Context Protocol (2024-11-05) for standardized AI integrations and cross-platform compatibility.</p>
            </div>
          </div>
          
          <div class="card" style="margin-top: 32px;">
            <div class="card-header">
              <h3 class="card-title">Quick Start</h3>
            </div>
            <div class="card-body">
              <div class="console" style="background: #1a1a2e;">
                <div class="console-line">
                  <span style="color: #94a3b8;"># Test the API with curl</span>
                </div>
                <div class="console-line">
                  <span style="color: #60a5fa;">curl</span>
                  <span style="color: #f8f8f2;"> -X POST </span>
                  <span style="color: #a5f3fc;">http://localhost:5000/mcp/tools/call</span>
                  <span style="color: #f8f8f2;"> \</span>
                </div>
                <div class="console-line">
                  <span style="color: #f8f8f2;">  -H </span>
                  <span style="color: #a5f3fc;">"X-API-Key: demo-api-key"</span>
                  <span style="color: #f8f8f2;"> \</span>
                </div>
                <div class="console-line">
                  <span style="color: #f8f8f2;">  -H </span>
                  <span style="color: #a5f3fc;">"Content-Type: application/json"</span>
                  <span style="color: #f8f8f2;"> \</span>
                </div>
                <div class="console-line">
                  <span style="color: #f8f8f2;">  -d </span>
                  <span style="color: #a5f3fc;">'{"name": "ai_chat", "arguments": {"message": "Hello!"}}'</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div id="page-dashboard" class="page" style="display: none;">
          <div class="page-header">
            <h1>Dashboard</h1>
            <p>Monitor your MCP server in real-time</p>
          </div>
          
          <div class="grid grid-4" style="margin-bottom: 32px;">
            <div class="stat-card">
              <div class="stat-card-icon primary">üîß</div>
              <div class="stat-card-value" id="stat-tools">0</div>
              <div class="stat-card-label">Active Tools</div>
            </div>
            <div class="stat-card">
              <div class="stat-card-icon success">üìù</div>
              <div class="stat-card-value" id="stat-prompts">0</div>
              <div class="stat-card-label">Prompt Templates</div>
            </div>
            <div class="stat-card">
              <div class="stat-card-icon warning">üì¶</div>
              <div class="stat-card-value" id="stat-resources">0</div>
              <div class="stat-card-label">Resources</div>
            </div>
            <div class="stat-card">
              <div class="stat-card-icon danger">ü§ñ</div>
              <div class="stat-card-value">3</div>
              <div class="stat-card-label">AI Providers</div>
            </div>
          </div>
          
          <div class="grid grid-2">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Server Status</h3>
                <span class="badge badge-success">Healthy</span>
              </div>
              <div class="card-body">
                <table class="table">
                  <tbody>
                    <tr>
                      <td style="font-weight: 600;">Protocol Version</td>
                      <td>MCP 2024-11-05</td>
                    </tr>
                    <tr>
                      <td style="font-weight: 600;">Server Version</td>
                      <td>1.0.0</td>
                    </tr>
                    <tr>
                      <td style="font-weight: 600;">Environment</td>
                      <td><span class="badge badge-primary">Development</span></td>
                    </tr>
                    <tr>
                      <td style="font-weight: 600;">Port</td>
                      <td>5000</td>
                    </tr>
                    <tr>
                      <td style="font-weight: 600;">WebSocket</td>
                      <td><span class="badge badge-success">Connected</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">AI Provider Status</h3>
              </div>
              <div class="card-body">
                <table class="table">
                  <tbody>
                    <tr>
                      <td>
                        <div style="display: flex; align-items: center; gap: 12px;">
                          <div class="provider-logo openai" style="width: 32px; height: 32px; font-size: 1rem;">O</div>
                          <span style="font-weight: 600;">OpenAI</span>
                        </div>
                      </td>
                      <td><span class="badge badge-success">Active</span></td>
                    </tr>
                    <tr>
                      <td>
                        <div style="display: flex; align-items: center; gap: 12px;">
                          <div class="provider-logo anthropic" style="width: 32px; height: 32px; font-size: 1rem;">A</div>
                          <span style="font-weight: 600;">Anthropic</span>
                        </div>
                      </td>
                      <td><span class="badge badge-warning">Not Configured</span></td>
                    </tr>
                    <tr>
                      <td>
                        <div style="display: flex; align-items: center; gap: 12px;">
                          <div class="provider-logo gemini" style="width: 32px; height: 32px; font-size: 1rem;">G</div>
                          <span style="font-weight: 600;">Gemini</span>
                        </div>
                      </td>
                      <td><span class="badge badge-warning">Not Configured</span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top: 24px;">
            <div class="card-header">
              <h3 class="card-title">Activity Log</h3>
              <button class="btn btn-secondary" onclick="state.logs = []; updateConsole();">Clear</button>
            </div>
            <div class="card-body">
              <div class="console" id="activity-console">
                <div class="console-line">
                  <span class="console-time">[--:--:--]</span>
                  <span class="console-level info">INFO</span>
                  <span>Waiting for activity...</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div id="page-tools" class="page" style="display: none;">
          <div class="page-header">
            <h1>Tools</h1>
            <p>Execute AI-powered tools and utilities</p>
          </div>
          
          <div id="search-results" style="display: none; margin-bottom: 24px;">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Search Results</h3>
                <button class="btn btn-secondary" onclick="clearSearch()">Clear Search</button>
              </div>
              <div class="card-body">
                <div class="feature-grid" id="search-results-grid"></div>
              </div>
            </div>
          </div>
          
          <div class="feature-grid" id="tools-grid">
            <div class="loading"><div class="spinner"></div></div>
          </div>
        </div>
        
        <div id="page-resources" class="page" style="display: none;">
          <div class="page-header">
            <h1>Resources</h1>
            <p>Access server information and data resources</p>
          </div>
          
          <div class="feature-grid" id="resources-grid">
            <div class="loading"><div class="spinner"></div></div>
          </div>
        </div>
        
        <div id="page-connections" class="page" style="display: none;">
          <div class="page-header">
            <h1>Connections</h1>
            <p>Manage external service integrations and API connections</p>
          </div>
          
          <div class="grid" style="gap: 24px;">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">AI Provider Connections</h3>
                <span class="badge badge-success">3 Available</span>
              </div>
              <div class="card-body">
                <div id="connections-providers" style="display: flex; flex-direction: column; gap: 16px;">
                  <div class="connection-item" style="display: flex; justify-content: space-between; align-items: center; padding: 16px; background: var(--gray-50); border-radius: var(--radius);">
                    <div style="display: flex; align-items: center; gap: 12px;">
                      <div class="provider-logo openai" style="width: 40px; height: 40px;">O</div>
                      <div>
                        <h4 style="font-weight: 600; margin-bottom: 4px;">OpenAI</h4>
                        <p style="color: var(--gray-500); font-size: 0.875rem;">GPT-4o, GPT-4o-mini, DALL-E</p>
                      </div>
                    </div>
                    <span class="badge badge-success">Connected</span>
                  </div>
                  <div class="connection-item" style="display: flex; justify-content: space-between; align-items: center; padding: 16px; background: var(--gray-50); border-radius: var(--radius);">
                    <div style="display: flex; align-items: center; gap: 12px;">
                      <div class="provider-logo anthropic" style="width: 40px; height: 40px;">A</div>
                      <div>
                        <h4 style="font-weight: 600; margin-bottom: 4px;">Anthropic</h4>
                        <p style="color: var(--gray-500); font-size: 0.875rem;">Claude 3.5 Sonnet, Claude 3 Opus</p>
                      </div>
                    </div>
                    <button class="btn btn-secondary" onclick="navigate('settings')">Configure</button>
                  </div>
                  <div class="connection-item" style="display: flex; justify-content: space-between; align-items: center; padding: 16px; background: var(--gray-50); border-radius: var(--radius);">
                    <div style="display: flex; align-items: center; gap: 12px;">
                      <div class="provider-logo gemini" style="width: 40px; height: 40px;">G</div>
                      <div>
                        <h4 style="font-weight: 600; margin-bottom: 4px;">Google Gemini</h4>
                        <p style="color: var(--gray-500); font-size: 0.875rem;">Gemini Pro, Gemini Ultra</p>
                      </div>
                    </div>
                    <button class="btn btn-secondary" onclick="navigate('settings')">Configure</button>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">WebSocket Connection</h3>
              </div>
              <div class="card-body">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 16px; background: var(--gray-50); border-radius: var(--radius);">
                  <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="width: 40px; height: 40px; background: var(--primary); color: white; border-radius: var(--radius); display: flex; align-items: center; justify-content: center; font-size: 1.25rem;">üîå</div>
                    <div>
                      <h4 style="font-weight: 600; margin-bottom: 4px;">Real-time WebSocket</h4>
                      <p style="color: var(--gray-500); font-size: 0.875rem;">ws://localhost:5000/ws</p>
                    </div>
                  </div>
                  <span class="badge badge-success">Active</span>
                </div>
              </div>
            </div>
            
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Database Connection</h3>
              </div>
              <div class="card-body">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 16px; background: var(--gray-50); border-radius: var(--radius);">
                  <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="width: 40px; height: 40px; background: #336791; color: white; border-radius: var(--radius); display: flex; align-items: center; justify-content: center; font-size: 1.25rem;">üêò</div>
                    <div>
                      <h4 style="font-weight: 600; margin-bottom: 4px;">PostgreSQL (Neon)</h4>
                      <p style="color: var(--gray-500); font-size: 0.875rem;">Persistent storage for keys, logs, and settings</p>
                    </div>
                  </div>
                  <span class="badge badge-success">Connected</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div id="page-addons" class="page" style="display: none;">
          <div class="page-header">
            <h1>Add-ons</h1>
            <p>Extend functionality with plugins and extensions</p>
          </div>
          
          <div class="grid grid-2" style="gap: 24px;">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Installed Add-ons</h3>
              </div>
              <div class="card-body">
                <div style="text-align: center; padding: 40px; color: var(--gray-500);">
                  <div style="font-size: 3rem; margin-bottom: 16px;">üß©</div>
                  <p>No add-ons installed yet</p>
                  <p style="font-size: 0.875rem; margin-top: 8px;">Browse the marketplace to find extensions</p>
                </div>
              </div>
            </div>
            
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Available Add-ons</h3>
                <span class="badge badge-primary">Coming Soon</span>
              </div>
              <div class="card-body">
                <div class="feature-grid">
                  <div class="feature-card" style="opacity: 0.6;">
                    <div class="feature-icon">üìä</div>
                    <h3>Analytics Dashboard</h3>
                    <p>Advanced usage metrics and AI performance analytics</p>
                  </div>
                  <div class="feature-card" style="opacity: 0.6;">
                    <div class="feature-icon">üîî</div>
                    <h3>Notifications</h3>
                    <p>Slack, Discord, and email notifications for events</p>
                  </div>
                  <div class="feature-card" style="opacity: 0.6;">
                    <div class="feature-icon">üìÅ</div>
                    <h3>File Storage</h3>
                    <p>S3-compatible file storage integration</p>
                  </div>
                  <div class="feature-card" style="opacity: 0.6;">
                    <div class="feature-icon">üîê</div>
                    <h3>SSO Authentication</h3>
                    <p>SAML and OAuth single sign-on support</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div id="page-playground" class="page" style="display: none;">
          <div class="page-header">
            <h1>AI Playground</h1>
            <p>Interact with AI models in real-time</p>
          </div>
          
          <div class="card" style="height: calc(100vh - 250px); display: flex; flex-direction: column;">
            <div class="card-header" style="display: flex; justify-content: space-between; align-items: center;">
              <h3 class="card-title">Chat</h3>
              <div style="display: flex; gap: 12px; align-items: center;">
                <select class="form-select" id="playground-provider" style="width: auto;">
                  <option value="openai">OpenAI GPT-4o</option>
                  <option value="anthropic">Anthropic Claude</option>
                  <option value="gemini">Google Gemini</option>
                </select>
                <button class="btn btn-secondary" onclick="clearPlayground()">Clear Chat</button>
              </div>
            </div>
            <div class="card-body" style="flex: 1; overflow-y: auto; display: flex; flex-direction: column;">
              <div id="playground-messages" style="flex: 1; overflow-y: auto; padding: 16px; background: var(--gray-50); border-radius: var(--radius); margin-bottom: 16px;">
                <p style="color: var(--gray-500); text-align: center;">Start a conversation...</p>
              </div>
              <div style="display: flex; gap: 12px;">
                <input type="text" class="form-input" id="playground-input" placeholder="Type your message and press Enter..." style="flex: 1;">
                <button class="btn btn-primary" onclick="sendPlaygroundMessage()">Send</button>
              </div>
            </div>
          </div>
        </div>
        
        <div id="page-logs" class="page" style="display: none;">
          <div class="page-header">
            <h1>Activity Logs</h1>
            <p>View detailed server activity and API requests from the database</p>
          </div>
          
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Database Activity Logs</h3>
              <button class="btn btn-secondary" onclick="loadLogsPage()">Refresh</button>
            </div>
            <div class="card-body">
              <div id="activity-logs-container" style="max-height: 600px; overflow-y: auto;">
                <p style="color: var(--gray-500);">Loading activity logs...</p>
              </div>
            </div>
          </div>
        </div>
        
        <div id="page-settings" class="page" style="display: none;">
          <div class="page-header">
            <h1>Settings</h1>
            <p>Configure AI providers and server settings</p>
          </div>
          
          <div class="tabs">
            <button class="tab active" onclick="showSettingsTab('providers')">AI Providers</button>
            <button class="tab" onclick="showSettingsTab('api')">API Settings</button>
            <button class="tab" onclick="showSettingsTab('security')">Security</button>
          </div>
          
          <div id="settings-providers" class="settings-section">
            <div class="grid" style="gap: 24px;" id="providers-list">
              <div class="provider-card">
                <div class="provider-header">
                  <div class="provider-info">
                    <div class="provider-logo openai">O</div>
                    <span class="provider-name">OpenAI</span>
                  </div>
                  <div class="provider-status active">
                    <span style="width: 8px; height: 8px; border-radius: 50%; background: currentColor;"></span>
                    Configured
                  </div>
                </div>
                <p style="color: var(--gray-600); margin-bottom: 16px;">
                  Powered by Replit AI Integrations. No API key required - charges are billed to your Replit credits.
                </p>
                <div style="display: flex; gap: 12px;">
                  <button class="btn btn-secondary" onclick="configureProvider('openai')">Configure</button>
                  <button class="btn btn-primary" onclick="testProvider('openai')">Test Connection</button>
                </div>
              </div>
              
              <div class="provider-card">
                <div class="provider-header">
                  <div class="provider-info">
                    <div class="provider-logo anthropic">A</div>
                    <span class="provider-name">Anthropic Claude</span>
                  </div>
                  <div class="provider-status inactive">
                    <span style="width: 8px; height: 8px; border-radius: 50%; background: currentColor;"></span>
                    Not Configured
                  </div>
                </div>
                <p style="color: var(--gray-600); margin-bottom: 16px;">
                  Use Claude 3.5 Sonnet and other Anthropic models. Requires API key from console.anthropic.com.
                </p>
                <div style="display: flex; gap: 12px;">
                  <button class="btn btn-secondary" onclick="configureProvider('anthropic')">Configure</button>
                  <button class="btn btn-primary" disabled>Test Connection</button>
                </div>
              </div>
              
              <div class="provider-card">
                <div class="provider-header">
                  <div class="provider-info">
                    <div class="provider-logo gemini">G</div>
                    <span class="provider-name">Google Gemini</span>
                  </div>
                  <div class="provider-status inactive">
                    <span style="width: 8px; height: 8px; border-radius: 50%; background: currentColor;"></span>
                    Not Configured
                  </div>
                </div>
                <p style="color: var(--gray-600); margin-bottom: 16px;">
                  Use Gemini Pro and other Google AI models. Requires API key from ai.google.dev.
                </p>
                <div style="display: flex; gap: 12px;">
                  <button class="btn btn-secondary" onclick="configureProvider('gemini')">Configure</button>
                  <button class="btn btn-primary" disabled>Test Connection</button>
                </div>
              </div>
            </div>
          </div>
          
          <div id="settings-api" class="settings-section" style="display: none;">
            <div class="card" style="margin-bottom: 24px;">
              <div class="card-header">
                <h3 class="card-title">API Keys</h3>
              </div>
              <div class="card-body">
                <p style="color: var(--gray-600); margin-bottom: 16px;">
                  Manage API keys for accessing your MCP server. Each key can have specific scopes and rate limits.
                </p>
                <div id="api-keys-list">
                  <div style="text-align: center; padding: 20px; color: var(--gray-500);">
                    Loading API keys...
                  </div>
                </div>
              </div>
            </div>
            
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Server Configuration</h3>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <label class="form-label">Default Rate Limit (requests per minute)</label>
                  <input type="number" class="form-input" id="server-rate-limit" value="100">
                </div>
                <div class="form-group">
                  <label class="form-label">CORS Origins</label>
                  <input type="text" class="form-input" id="server-cors" value="*" placeholder="*, https://example.com">
                </div>
              </div>
              <div class="card-footer">
                <button class="btn btn-primary" onclick="saveServerSettings()">Save Changes</button>
              </div>
            </div>
          </div>
          
          <div id="settings-security" class="settings-section" style="display: none;">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Security Settings</h3>
              </div>
              <div class="card-body">
                <div class="form-group">
                  <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                      <label class="form-label" style="margin-bottom: 4px;">Enable Rate Limiting</label>
                      <p style="color: var(--gray-500); font-size: 0.875rem;">Protect against abuse by limiting request frequency</p>
                    </div>
                    <div class="toggle active" onclick="this.classList.toggle('active')"></div>
                  </div>
                </div>
                <div class="form-group">
                  <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                      <label class="form-label" style="margin-bottom: 4px;">Require API Key</label>
                      <p style="color: var(--gray-500); font-size: 0.875rem;">All MCP endpoints require authentication</p>
                    </div>
                    <div class="toggle active" onclick="this.classList.toggle('active')"></div>
                  </div>
                </div>
                <div class="form-group">
                  <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                      <label class="form-label" style="margin-bottom: 4px;">Enable Helmet Security Headers</label>
                      <p style="color: var(--gray-500); font-size: 0.875rem;">Add security headers to all responses</p>
                    </div>
                    <div class="toggle active" onclick="this.classList.toggle('active')"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div id="page-about" class="page" style="display: none;">
          <div class="page-header">
            <h1>About SPURS MCP Server</h1>
            <p>US Department of Special Projects and Unified Response Services</p>
          </div>
          
          <div class="grid grid-2">
            <div class="card">
              <div class="card-body">
                <h2 style="font-size: 1.5rem; font-weight: 800; margin-bottom: 16px; color: var(--gray-800);">What is SPURS?</h2>
                <p style="color: var(--gray-600); line-height: 1.8; margin-bottom: 16px;">
                  SPURS MCP Server is the official Model Context Protocol platform for the US Department of Special Projects and Unified Response Services (US-SPURS).
                </p>
                <p style="color: var(--gray-600); line-height: 1.8; margin-bottom: 16px;">
                  Built with enterprise-grade security, extensibility, and performance in mind, SPURS provides a unified interface for AI tools and resources across OpenAI, Anthropic, and Google platforms.
                </p>
                <p style="color: var(--gray-600); line-height: 1.8;">
                  The platform enables secure, context-aware AI operations for departmental applications and mission-critical workflows.
                </p>
              </div>
            </div>
            
            <div class="card">
              <div class="card-body">
                <h2 style="font-size: 1.5rem; font-weight: 800; margin-bottom: 16px; color: var(--gray-800);">Key Capabilities</h2>
                <ul style="color: var(--gray-600); line-height: 2;">
                  <li>‚úÖ Multi-AI platform support (OpenAI, Anthropic, Gemini)</li>
                  <li>‚úÖ Model Context Protocol (MCP) 2024-11-05 compliant</li>
                  <li>‚úÖ Real-time streaming via WebSocket</li>
                  <li>‚úÖ Extensible tool registry system</li>
                  <li>‚úÖ Prompt template management</li>
                  <li>‚úÖ Resource discovery and access</li>
                  <li>‚úÖ API key authentication with scopes</li>
                  <li>‚úÖ Rate limiting and security headers</li>
                  <li>‚úÖ Comprehensive logging with Winston</li>
                  <li>‚úÖ Production-ready error handling</li>
                </ul>
              </div>
            </div>
          </div>
          
          <div class="card" style="margin-top: 24px;">
            <div class="card-header">
              <h3 class="card-title">Technical Specifications</h3>
            </div>
            <div class="card-body">
              <table class="table">
                <tbody>
                  <tr>
                    <td style="font-weight: 600; width: 200px;">Runtime</td>
                    <td>Node.js 18+ with native fetch API</td>
                  </tr>
                  <tr>
                    <td style="font-weight: 600;">Framework</td>
                    <td>Express.js with WebSocket (ws)</td>
                  </tr>
                  <tr>
                    <td style="font-weight: 600;">Protocol</td>
                    <td>Model Context Protocol (MCP) 2024-11-05</td>
                  </tr>
                  <tr>
                    <td style="font-weight: 600;">Security</td>
                    <td>Helmet, CORS, Rate Limiting, API Key Auth</td>
                  </tr>
                  <tr>
                    <td style="font-weight: 600;">AI Providers</td>
                    <td>OpenAI (via Replit), Anthropic Claude, Google Gemini</td>
                  </tr>
                  <tr>
                    <td style="font-weight: 600;">Logging</td>
                    <td>Winston with structured JSON output</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          
          <div class="card" style="margin-top: 24px;">
            <div class="card-header">
              <h3 class="card-title">Version History</h3>
            </div>
            <div class="card-body">
              <div style="border-left: 3px solid var(--primary); padding-left: 20px;">
                <div style="margin-bottom: 24px;">
                  <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                    <span class="badge badge-success">v1.0.0</span>
                    <span style="color: var(--gray-500); font-size: 0.875rem;">December 2025</span>
                  </div>
                  <h4 style="font-weight: 600; margin-bottom: 8px;">Initial Release</h4>
                  <ul style="color: var(--gray-600); font-size: 0.875rem; line-height: 1.8;">
                    <li>Complete MCP server implementation</li>
                    <li>Multi-provider AI support</li>
                    <li>9 built-in tools with AI integration</li>
                    <li>REST API and WebSocket endpoints</li>
                    <li>Production-quality web interface</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  
  <div id="tool-modal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="tool-modal-title">Tool</h3>
        <button class="modal-close" onclick="closeModal('tool-modal')">&times;</button>
      </div>
      <div class="modal-body" id="tool-modal-content"></div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('tool-modal')">Cancel</button>
        <button class="btn btn-primary" onclick="executeCurrentTool()">Execute</button>
      </div>
    </div>
  </div>
  
  <div id="provider-modal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="provider-modal-title">Configure Provider</h3>
        <button class="modal-close" onclick="closeModal('provider-modal')">&times;</button>
      </div>
      <div class="modal-body" id="provider-modal-content"></div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('provider-modal')">Cancel</button>
        <button class="btn btn-primary" onclick="saveProviderConfig()">Save</button>
      </div>
    </div>
  </div>
  
  <script src="/js/app.js"></script>
  <script>
    function showSettingsTab(tab) {
      document.querySelectorAll('#page-settings .tabs .tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.settings-section').forEach(s => s.style.display = 'none');
      
      event.target.classList.add('active');
      document.getElementById(`settings-${tab}`).style.display = 'block';
    }
    
    async function sendPlaygroundMessage() {
      const provider = document.getElementById('playground-provider').value;
      const message = document.getElementById('playground-message').value;
      const responseEl = document.getElementById('playground-response');
      
      if (!message.trim()) {
        showNotification('Please enter a message', 'error');
        return;
      }
      
      responseEl.innerHTML = '<div class="loading"><div class="spinner"></div></div>';
      
      try {
        const result = await apiRequest('/mcp/sampling/create', {
          method: 'POST',
          body: JSON.stringify({
            messages: [{ role: 'user', content: message }],
            provider: provider
          })
        });
        
        responseEl.innerHTML = `
          <div style="margin-bottom: 12px;">
            <span class="badge badge-success">${result.provider || provider}</span>
            <span class="badge badge-primary">${result.model || 'AI Response'}</span>
          </div>
          <p style="color: var(--gray-800); line-height: 1.8;">${result.content?.text || result.content || 'No response'}</p>
        `;
        
        addLog('success', `AI response received from ${provider}`);
      } catch (error) {
        responseEl.innerHTML = `<p style="color: var(--danger);">Error: ${error.message}</p>`;
        addLog('error', `AI request failed: ${error.message}`);
      }
    }
    
    function saveProviderConfig() {
      showNotification('Configuration saved!', 'success');
      closeModal('provider-modal');
    }
    
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', () => {
        const page = item.dataset.page;
        if (page) navigate(page);
      });
    });
  </script>
</body>
</html>
